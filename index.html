<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Tutor - Your Personal Learning Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .last {
            display: flex;

            justify-content: flex-end;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            background-color: #4a6fa5;
            color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .bars {
            display: none;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo span {
            color: #ffd166;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #ffd166;
        }

        .login-btn {
            background-color: #ffd166;
            color: #333;
            border: none;
            padding: 0.5rem 1.2rem;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .login-btn:hover {
            background-color: #ffc233;
        }

        .hero {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 4rem 5%;
            background: linear-gradient(135deg, #4a6fa5 0%, #3a5a8a 100%);
            color: white;
        }

        .hero-content {
            flex: 1;
            padding-right: 2rem;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta-btn {
            background-color: #ffd166;
            color: #333;
            border: none;
            padding: 0.8rem 1.8rem;
            border-radius: 5px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cta-btn:hover {
            background-color: #ffc233;
            transform: translateY(-2px);
        }

        .hero-image {
            flex: 1;
            text-align: center;
        }

        .hero-image img {
            max-width: 300px;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .features {
            padding: 5rem 5%;
            text-align: center;
        }

        .features h2 {
            font-size: 2rem;
            margin-bottom: 3rem;
            color: #333;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: #4a6fa5;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            color: #333;
        }

        .how-it-works {
            padding: 5rem 5%;
            background-color: #eef2f7;
        }

        .how-it-works h2 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 3rem;
            color: #333;
        }

        .steps {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .step {
            flex: 1;
            min-width: 250px;
            text-align: center;
            padding: 0 1.5rem;
            margin-bottom: 2rem;
            position: relative;
        }

        .step-number {
            width: 50px;
            height: 50px;
            background-color: #4a6fa5;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0 auto 1rem;
        }

        .step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 25px;
            right: -50px;
            width: 100px;
            height: 2px;
            background-color: #4a6fa5;
            opacity: 0.3;
        }

        footer {
            background-color: #333;
            color: white;
            text-align: center;
            padding: 2rem 5%;
            margin-top: 3rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            list-style: none;
            margin-bottom: 1.5rem;
        }

        .footer-links li {
            margin: 0 1rem;
        }

        .footer-links a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: #ffd166;
        }

        .mobile-menu {
            display: none;
            flex-direction: column;
            background: linear-gradient(to bottom, #ffffff, #f0f0f0);
            position: absolute;
            top: 60px;
            /* adjust depending on your nav height */
            right: 20px;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            animation: slideDown 0.3s ease-in-out;
            min-width: 180px;
        }


        /* Google button style */
  .google-btn {
    background-color: white;
    color: #555;
    border: 1px solid #ddd;
    font-size: 16px;
    font-weight: 500;
    padding: 10px 16px;
    border-radius: 4px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  }

  .google-btn:hover {
    background-color: #f7f7f7;
  }

  .google-btn img {
    width: 20px;
    height: 20px;
  }

  /* Logout button */
  .logout-btn {
    background-color: #e53935;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    margin-left: 10px;
    transition: background 0.3s ease;
  }

  .logout-btn:hover {
    background-color: #c62828;
  }


        @media (max-width: 768px) {
            .hero {
                flex-direction: column;
                text-align: center;
            }

            .hero-content {
                padding-right: 0;
                margin-bottom: 2rem;
            }

            .nav-links {
                display: none;
            }

            .bars {
                display: block;
            }

            .mobile-menu {
                display: none;
            }

            .step:not(:last-child)::after {
                display: none;
            }

            .footer-links a {
                font-size: 14px;
            }

            .mobile-menu a {
                padding: 12px 10px;
                color: #333;
                text-decoration: none;
                border-radius: 8px;
                font-weight: 500;
                transition: background 0.3s, transform 0.2s;
            }

            .mobile-menu a:hover {
                background-color: #e0e0e0;
                transform: translateX(4px);
            }
        }
    </style>
    <!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>


</head>

<body>
    <nav class="navbar">
        <div class="logo">Chatbot<span>Tutor</span></div>
        <ul class="nav-links">
            <li><a href="#">Home</a></li>
            <li><a href="/auth.html">Chatbot</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="/contact.html">Contact</a></li>
        </ul>
        <div class="last" style="gap:33px;">
            <button class="login-btn" onclick="location.href='/auth.html'">Login</button>
            <i style="margin-top: 12px; cursor:pointer" class="fa-solid fa-bars bars" onclick="toggleMenu()"></i>
        </div>
        <div class="mobile-menu" id="mobileMenu">
            <a href="#" style="color: black;text-decoration: none;">Home</a>
            <a href="#" style="color: black;text-decoration: none;">About</a>
            <a href="#" style="color: black;text-decoration: none;">Contact</a>
            <a href="./auth.html" style="color: black;text-decoration: none;">Chatbot</a>
        </div>
    </nav>
    <section class="hero">
        <div class="hero-content">
            <h1>Your Personal Learning Assistant</h1>
            <p>Get instant help with your homework and study questions. Our AI-powered tutor provides step-by-step
                solutions and explanations to help you learn better.</p>
            <button class="cta-btn" onclick="location.href='auth.html'">Try Chatbot Now</button>
        </div>
        <div class="hero-image">
            <img src="/logo.png" alt="Chatbot Tutor in action">
        </div>
    </section>

    <section class="features">
        <h2>Why Choose Chatbot Tutor?</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">📚</div>
                <h3>24/7 Availability</h3>
                <p>Get help whenever you need it, day or night. No more waiting for office hours.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🧠</div>
                <h3>Step-by-Step Solutions</h3>
                <p>Don't just get answers - understand how to solve problems with detailed explanations.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">⚡</div>
                <h3>Instant Responses</h3>
                <p>No more waiting - get immediate help with your questions in multiple subjects.</p>
            </div>
        </div>
    </section>
    <section class="how-it-works">
        <h2>How It Works</h2>
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <h3>Ask Your Question</h3>
                <p>Type or upload your homework question to our chatbot interface.</p>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <h3>AI Analyzes</h3>
                <p>Our advanced AI understands your question and identifies the best way to help.</p>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <h3>Get Solution</h3>
                <p>Receive a detailed, step-by-step explanation to help you learn and understand.</p>
            </div>
        </div>
    </section>

 

    <section class="features" style="padding: 5rem 5%;">
  <h2 style="text-align: center; font-size: 2rem; margin-bottom: 2rem;">We Value Your Feedback</h2>
  
  <div style="max-width: 600px; margin: 0 auto; background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
    <div id="feedbackForm">
      <div style="margin-bottom: 1.5rem;">
        <label for="comment" style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">Your Feedback</label>
        <textarea id="comment" placeholder="Share your experience with us..." rows="5" 
          style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; resize: vertical; transition: border 0.3s;"></textarea>
      </div>

      <button id="logoutBtn" onclick="logout()" style="display: none;">Logout</button>

      
      <div style="margin-bottom: 1.5rem;">
        <label style="display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333;">Rating</label>
        <div id="starRating" style="display: flex; gap: 5px; margin-bottom: 0.5rem;">
          <span class="star" data-value="1" style="font-size: 24px; cursor: pointer; color: #ddd;">★</span>
          <span class="star" data-value="2" style="font-size: 24px; cursor: pointer; color: #ddd;">★</span>
          <span class="star" data-value="3" style="font-size: 24px; cursor: pointer; color: #ddd;">★</span>
          <span class="star" data-value="4" style="font-size: 24px; cursor: pointer; color: #ddd;">★</span>
          <span class="star" data-value="5" style="font-size: 24px; cursor: pointer; color: #ddd;">★</span>
        </div>
        <input type="hidden" id="rating" value="0">
        <small id="ratingHelp" style="color: #666; font-style: italic;">Click on the stars to rate</small>
      </div>
      
      <button onclick="submitFeedback()" 
        style="background-color: #4a6fa5; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 16px; font-weight: 500; cursor: pointer; transition: all 0.3s; display: block; width: 100%;">
        <i class="fas fa-paper-plane" style="margin-right: 8px;"></i> Submit Feedback
      </button>
    </div>

</div>


  <!-- Feedback List Display -->
  <div id="feedbackList" style="max-width: 600px; margin: 3rem auto;">
    <h3 style="text-align: center; margin-bottom: 1.5rem; color: #333;">Recent Feedback</h3>
    <div id="feedbackItems" style="display: grid; gap: 1.5rem;"></div>
  </div>
</section>


  <footer class="site-footer">
  <div class="footer-content">
    <ul class="footer-links">
      <li><a href="/privacy.html">Privacy Policy</a></li>
      <li><a href="/terms.html">Terms of Service</a></li>
      <li><a href="#">Contact Us</a></li>
    </ul>
    <p>&copy; 2025 Chatbot Tutor. All rights reserved.</p>
  </div>
</footer>

</body>
<script>

     const firebaseConfig = {
    apiKey: "AIzaSyCVvaqJeppdqoL8lVM3rOdYlnqzZ3LmVsI",
    authDomain: "chatbot-fdb19.firebaseapp.com",
    projectId: "chatbot-fdb19",
    storageBucket: "chatbot-fdb19.appspot.com",
    messagingSenderId: "499513063427",
    appId: "1:499513063427:web:b971d14bdb128fcc11f636",
    measurementId: "G-9V7PKYR92K"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const auth = firebase.auth();

  // Google login
  function loginWithGoogle() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider)
      .then((result) => {
        const user = result.user;
        alert(`Welcome ${user.displayName || user.email}`);
        loadFeedback();
      })
      .catch((error) => {
        console.error("Login failed:", error);
        alert("Login failed. Check console for details.");
      });
  }

  function logout() {
    auth.signOut().then(() => {
      alert("Logged out.");
      loadFeedback();
    });
  }

  function submitFeedback() {
    const comment = document.getElementById("comment").value.trim();
    const rating = parseInt(document.getElementById("rating").value);
    const user = firebase.auth().currentUser;

    if (!user) {
      alert("Please login to submit feedback.");
      return;
    }

    if (!comment) {
      alert("Please write a comment.");
      return;
    }

    db.collection("feedback").add({
      userId: user.uid,
      name: user.displayName || "Anonymous",
      email: user.email || "Not Provided",
      photo: user.photoURL || "",
      comment: comment,
      rating: rating,
      timestamp: new Date()
    })
    .then(() => {
      alert("Thank you for your feedback!");
      document.getElementById("comment").value = "";
      document.getElementById("rating").value = "5";
      loadFeedback();
    })
    .catch((error) => {
      console.error("Error submitting feedback:", error);
      alert("Something went wrong. Try again.");
    });
  }

  function loadFeedback() {
    db.collection("feedback")
      .orderBy("timestamp", "desc")
      .limit(5)
      .get()
      .then((querySnapshot) => {
        const list = document.getElementById("feedbackList");
        list.innerHTML = "";
        querySnapshot.forEach((doc) => {
          const data = doc.data();
          const item = document.createElement("div");
          item.style.marginBottom = "1rem";
          item.innerHTML = `
            <div style="display:flex; align-items:center; gap:10px;">
              <div>
                <strong>${data.name || "Anonymous"}</strong><br>
                <small>${data.email || ""}</small>
              </div>
            </div>
            <p><strong>Rating:</strong> ${"⭐".repeat(data.rating)}</p>
            <p><strong>Comment:</strong> ${data.comment}</p>
            <hr>
          `;
          list.appendChild(item);
        });
      });
  }

  // Hide/show buttons based on auth state
  auth.onAuthStateChanged((user) => {
    const loginBtn = document.getElementById("loginBtn");
    const logoutBtn = document.getElementById("logoutBtn");

    if (user) {
      loginBtn.style.display = "none";
      logoutBtn.style.display = "inline-block";
    } else {
      loginBtn.style.display = "inline-block";
      logoutBtn.style.display = "none";
    }
  });

  window.onload = loadFeedback;

   // Star rating functionality
  const stars = document.querySelectorAll('.star');
  const ratingInput = document.getElementById('rating');
  
  stars.forEach(star => {
    star.addEventListener('click', () => {
      const value = parseInt(star.getAttribute('data-value'));
      ratingInput.value = value;
      
      // Update star colors
      stars.forEach((s, index) => {
        if (index < value) {
          s.style.color = '#ffd166'; // Gold color for selected stars
        } else {
          s.style.color = '#ddd'; // Grey color for unselected stars
        }
      });
      
      document.getElementById('ratingHelp').textContent = `You rated this ${value} star${value !== 1 ? 's' : ''}`;
    });
    
    // Hover effect
    star.addEventListener('mouseover', () => {
      const value = parseInt(star.getAttribute('data-value'));
      stars.forEach((s, index) => {
        if (index < value) {
          s.style.color = '#ffd166';
        }
      });
    });
    
    star.addEventListener('mouseout', () => {
      const currentRating = parseInt(ratingInput.value);
      stars.forEach((s, index) => {
        if (index >= currentRating) {
          s.style.color = '#ddd';
        }
      });
    });
  });

  // Enhanced submitFeedback function
  function submitFeedback() {
    const comment = document.getElementById("comment").value.trim();
    const rating = parseInt(document.getElementById("rating").value);
    const user = firebase.auth().currentUser;

    if (!user) {
      document.getElementById("feedbackForm").style.display = "none";
      document.getElementById("loginPrompt").style.display = "block";
      return;
    }

    if (!comment) {
      showMessage("Please write your feedback before submitting", "error");
      return;
    }

    if (rating === 0) {
      showMessage("Please select a rating", "error");
      return;
    }

    // Show loading state
    const submitBtn = document.querySelector('#feedbackForm button');
    const originalText = submitBtn.innerHTML;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
    submitBtn.disabled = true;

    db.collection("feedback").add({
      userId: user.uid,
      name: user.displayName || "Anonymous",
      email: user.email || "Not Provided",
      photo: user.photoURL || "",
      comment: comment,
      rating: rating,
      timestamp: firebase.firestore.FieldValue.serverTimestamp()
    })
    .then(() => {
      showMessage("Thank you for your feedback!", "success");
      document.getElementById("comment").value = "";
      ratingInput.value = "0";
      stars.forEach(star => star.style.color = '#ddd');
      document.getElementById('ratingHelp').textContent = 'Click on the stars to rate';
      
      // Reload feedback after a short delay
      setTimeout(loadFeedback, 500);
    })
    .catch((error) => {
      console.error("Error submitting feedback:", error);
      showMessage("Something went wrong. Please try again.", "error");
    })
    .finally(() => {
      submitBtn.innerHTML = originalText;
      submitBtn.disabled = false;
    });
  }

  function showMessage(text, type) {
    const messageEl = document.getElementById("feedbackMessage");
    messageEl.textContent = text;
    messageEl.style.display = "block";
    messageEl.style.color = type === "success" ? "#4CAF50" : "#F44336";
    
    setTimeout(() => {
      messageEl.style.display = "none";
    }, 5000);
  }

  // Enhanced loadFeedback function
  function loadFeedback() {
    const feedbackItems = document.getElementById("feedbackItems");
    feedbackItems.innerHTML = '<div style="text-align:center;"><i class="fas fa-spinner fa-spin" style="font-size:24px;"></i></div>';
    
    db.collection("feedback")
      .orderBy("timestamp", "desc")
      .limit(5)
      .get()
      .then((querySnapshot) => {
        if (querySnapshot.empty) {
          feedbackItems.innerHTML = '<p style="text-align:center; color:#666;">No feedback yet. Be the first to share!</p>';
          return;
        }
        
        feedbackItems.innerHTML = "";
        querySnapshot.forEach((doc) => {
          const data = doc.data();
          const date = data.timestamp ? data.timestamp.toDate() : new Date();
          const formattedDate = date.toLocaleDateString('en-US', { 
            year: 'numeric', 
            month: 'short', 
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
          });
          
          const item = document.createElement("div");
          item.style.background = "white";
          item.style.padding = "1.5rem";
          item.style.borderRadius = "8px";
          item.style.boxShadow = "0 2px 8px rgba(0,0,0,0.1)";
          item.innerHTML = `
            <div style="display:flex; gap:12px; margin-bottom:12px;">
              <img src="${data.photo || 'https://via.placeholder.com/50'}" 
                style="width:50px; height:50px; border-radius:50%; object-fit:cover;">
              <div>
                <div style="font-weight:600;">${data.name || "Anonymous"}</div>
                <div style="font-size:0.8rem; color:#666;">${formattedDate}</div>
              </div>
            </div>
            <div style="margin-bottom:12px; color:#FFA000; font-size:1.2rem;">
              ${"★".repeat(data.rating)}${"☆".repeat(5 - data.rating)}
            </div>
            <div style="color:#333; line-height:1.5;">
              ${data.comment.replace(/\n/g, '<br>')}
            </div>
          `;
          feedbackItems.appendChild(item);
        });
      })
      .catch((error) => {
        console.error("Error loading feedback:", error);
        feedbackItems.innerHTML = '<p style="text-align:center; color:#F44336;">Failed to load feedback. Please try again later.</p>';
      });
  }

  // Check auth state and update UI
  auth.onAuthStateChanged((user) => {
    if (user) {
      document.getElementById("feedbackForm").style.display = "block";
      document.getElementById("loginPrompt").style.display = "none";
    } else {
      document.getElementById("feedbackForm").style.display = "none";
      document.getElementById("loginPrompt").style.display = "block";
    }
    loadFeedback();
  });
  </script>

</html>
